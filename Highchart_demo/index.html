<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,minimum-scale=1">
        <link rel="stylesheet" href="https://code.highcharts.com/css/highcharts.css">
    </head>

    <style>
        #container {
            display: flex;
            height: calc(100vh - 0px);
            margin: 0px;
            padding: 0px;
        }
    </style>

    <div id="container"></div>

    <body>
        <script src="https://library/highstock.js"></script>
        <script src="https://library/exporting.js"></script>
        <script src="https://library/export-data.js"></script>
        <script src="https://library/accessibility.js"></script>

        <script> // type="module"
            // Я не знаю откуда и как подтягиваются эти библиотеки, найти апишку с роутами я не смог
            // Но нашел вот этот ответ, где есть подтягивание библиотек в ES6
            // Но почему-то при использовании ES6 не работает функционал графиков highcharts
            // Но при этом, если оставить ES6, то не получается асинхронно вызвать html скрипт,
            // который здесь ниже, из другого файла C#
            // https://stackoverflow.com/questions/59992464/how-to-use-highstock-in-ecmascript
            // import Highcharts from 'https://code.highcharts.com/js/es-modules/masters/highcharts.src.js';
            // import 'https://code.highcharts.com/js/es-modules/masters/modules/stock.src.js';

            let elevationData = [];
            var chart;
            let text = [];

            Highcharts.setOptions({
                lang: {
                    months: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль',
                        'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],
                    shortWeekdays: ['ВС', 'ПН', 'ВТ', 'СР', 'ЧТ', 'ПТ', 'СБ'],
                    weekdays: [
                        'Воскресенье',
                        'Понедельник',
                        'Вторник',
                        'Среда',
                        'Четверг',
                        'Пятница',
                        'Суббота'
                    ],
                    shortMonths: [
                        'Янв',
                        'Февр',
                        'Март',
                        'Апр',
                        'Май',
                        'Июнь',
                        'Июль',
                        'Авг',
                        'Сент',
                        'Окт',
                        'Нояб',
                        'Дек'
                    ],
                    loading: 'Загрузка...',
                    decimalPoint: '.'
                }
            });

            const options = {
                rangeSelector: {
                    buttons: [{
                        type: 'minute',
                        count: 1,
                        text: '1мин'
                    }, {
                        type: 'minute',
                        count: 10,
                        text: '10мин'
                    },{
                        type: 'minute',
                        count: 15,
                        text: '15мин'
                    },{
                        type: 'minute',
                        count: 30,
                        text: '30мин'
                    },{
                        type: 'hour',
                        count: 1,
                        text: '1ч'
                    },{
                        type: 'hour',
                        count: 2,
                        text: '2ч'
                    },{
                        type: 'hour',
                        count: 3,
                        text: '3ч'
                    },{
                        type: 'hour',
                        count: 6,
                        text: '6ч'
                    },{
                        type: 'hour',
                        count: 12,
                        text: '12ч'
                    },{
                        type: 'day',
                        count: 1,
                        text: '1д'
                    },{
                        type: 'day',
                        count: 2,
                        text: '2д'
                    },{
                        type: 'week',
                        text: '1нед'
                    },{
                        type: 'all',
                        text: 'все'
                    }],
                    inputEnabled: false, // Включает/отключает диапазон от и до, по дате
                },
                credits: {
                    enabled: false
                },
                legend: {
                    enabled: true,
                    layout: 'vertical',
                    align: 'left',
                    verticalAlign: 'middle',
                    itemMarginTop: 10,
                    itemMarginBottom: 10
                },
                navigator: {
                    opposite: false
                },
                chart: {
                    zooming: {
                        mouseWheel: {
                            enabled: false
                        }
                    },
                    panning: {
                        enabled: true,
                        type: 'xy'
                    },
                    panKey: 'alt',
                    zoomType: 'xy',
                },
                data: {
                    dateFormat: "dd/mm/YYYY"
                },
                exporting: { // Хз для чего нужно 
                    enabled: true
                },
                tooltip: {
                    valueDecimals: 2,
                    shared: true,
                    split: false,
                    headerFormat: '<span style="font-size: 15px; color: black;">{point.key}</span><br/>',
                    style: {
                        fontWeight: 'bold',
                        fontSize: '15px'
                    }
                },
                xAxis: [{
                    type: 'datetime',
                    labels: {
                        format: '{value:%Y-%m-%d}',
                    }
                }],
                navigation: {
                    buttonOptions: {
                        enabled: false // Выключает контекстное меню
                    }
                },
                yAxis: [{
                    // Объект нужен для индикаторов по левой и правой стороне
                },{
                    linkedTo: 0,
                    opposite: false
                }],
                plotOptions: {
                    series: {
                        // general options for all series
                        showInNavigator: true
                    },
                    line: {
                        // shared options for all line series
                    }
                },
            }

            chart = Highcharts.stockChart('container', options)

            // let data = [{
            //    name: 'The Local Bakery',
            //    data: [[1715043600000, 678.78], [1715047200000, 545.33], [1715050800000, 788.72], [1715054400000, 406.2], [1715058000000, 744.87], [1715061600000, 466.03], [1715065200000, 337.52], [1715068800000, 845.11], [1715072400000, 396.67], [1715076000000, 470.89]],
            // }, {
            //    name: 'The Local Fishmarket',
            //    data: [[1715043600000, 1340.72], [1715047200000, 982.43], [1715050800000, 1437.99], [1715054400000, 1476.2], [1715058000000, 670.23], [1715061600000, 429.58], [1715065200000, 897.52], [1715068800000, 845.11], [1715072400000, 1275.79], [1715076000000, 1843.01]],
            // }];
            // for (let item of data) {
            //    chart.addSeries(item);
            // };
        </script>
    </body>
</html>